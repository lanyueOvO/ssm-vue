{"remainingRequest":"D:\\Vue\\hello\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Vue\\hello\\src\\views\\reception\\Car.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Vue\\hello\\src\\views\\reception\\Car.vue","mtime":1636596213535},{"path":"D:\\Vue\\hello\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1633489514687},{"path":"D:\\Vue\\hello\\node_modules\\babel-loader\\lib\\index.js","mtime":1633489516581},{"path":"D:\\Vue\\hello\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1633489514687},{"path":"D:\\Vue\\hello\\node_modules\\vue-loader\\lib\\index.js","mtime":1633489516986}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgSGVhcmRlciBmcm9tICIuL0hlYWRlclJlLnZ1ZSI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5maW5kQ2FyQnlVc2VySWQoKTsNCiAgICB0aGlzLmZpbmRDYXJUb1RhbEJ5VXNlcklkKCk7DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBhZ2VOdW06IDAsDQogICAgICBwYWdlU2l6ZTogMywNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgc2VhcmNoX2lucHV0OiAiIiwNCiAgICAgIGFsbFVzZXJDYXI6IFtdLA0KICAgICAgc3VtOiBbXSwNCiAgICAgIGNhcklkOiBbXSwNCiAgICAgIFNwcmljZTogMCwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8g5om56YeP5pON5L2cDQogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgew0KICAgICAgLy8gY29uc29sZS5sb2codmFsKTsNCiAgICAgIGlmICh0aGlzLmNhcklkLmxlbmd0aCAhPSB2YWwubGVuZ3RoKSB7DQogICAgICAgIHRoaXMuY2FySWQgPSBbXTsNCiAgICAgICAgdGhpcy5zdW0gPSBbXTsNCiAgICAgIH0NCiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB2YWwubGVuZ3RoOyBpbmRleCsrKSB7DQogICAgICAgIHRoaXMuY2FySWRbaW5kZXhdID0gdmFsW2luZGV4XS5pZDsNCiAgICAgICAgdGhpcy5zdW1baW5kZXhdID0gdmFsW2luZGV4XS5wcmljZTsNCiAgICAgICAgLy8gY29uc29sZS5sb2codmFsW2luZGV4XSk7DQogICAgICB9DQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNhcklkKTsNCiAgICAgIHRoaXMuU3ByaWNlID0gMCANCiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnN1bS5sZW5ndGg7IGluZGV4KyspIHsNCiAgICAgICAgdGhpcy5TcHJpY2UgKz0gdGhpcy5zdW1baW5kZXhdDQogICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdTcHJpY2UnLHRoaXMuU3ByaWNlKQ0KICAgICAgfQ0KDQogICAgfSwNCiAgICBmaW5kQ2FyQnlVc2VySWQoKSB7DQogICAgICBjb25zdCB1c2VySWQgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgibG9nSWQiKTsNCiAgICAgIHRoaXMuJGh0dHANCiAgICAgICAgLnBvc3QoDQogICAgICAgICAgYC9jYXIvZmluZENhckJ5VXNlcklkP3VzZXJfaWQ9JHt1c2VySWR9JnBhZ2VOdW09JHt0aGlzLnBhZ2VOdW19JnBhZ2VTaXplPSR7dGhpcy5wYWdlU2l6ZX1gDQogICAgICAgICkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIC8vICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgICB0aGlzLmFsbFVzZXJDYXIgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGZpbmRDYXJUb1RhbEJ5VXNlcklkKCkgew0KICAgICAgY29uc3QgdXNlcklkID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImxvZ0lkIik7DQogICAgICB0aGlzLiRodHRwDQogICAgICAgIC5wb3N0KGAvY2FyL2ZpbmRDYXJUb1RhbEJ5VXNlcklkP3VzZXJfaWQ9JHt1c2VySWR9YCkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOWNleeLrOWIoOmZpOi0reeJqei9pg0KICAgIHJlbW92ZUNhcih2YWwpIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHZhbCk7DQogICAgICB0aGlzLiRodHRwLnBvc3QoYC9jYXIvcmVtb3ZlQ2FyQnlJZD9pZD0ke3ZhbH1gKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip/vvIEiKTsNCiAgICAgICAgICB0aGlzLmZpbmRDYXJCeVVzZXJJZCgpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuWIoOmZpOWksei0pe+8geivt+iBlOezu+euoeeQhuWRmCIpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOWIhumhteaWueazlQ0KICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOw0KICAgICAgdGhpcy5maW5kQ2FyQnlVc2VySWQoKTsNCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLnBhZ2VOdW0gPSB2YWw7DQogICAgICB0aGlzLmZpbmRDYXJCeVVzZXJJZCgpOw0KICAgIH0sDQogICAgLy8g5om56YeP5Yig6ZmkDQogICAgYmF0Y2hSZW1vdmUoKSB7DQogICAgICBpZiAodGhpcy5jYXJJZC5sZW5ndGggPT09IDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCLmmoLml7bov5jmnKrpgInkuK3llYblk4Hlk6Z+Iik7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDmibnph4/otK3kubANCiAgICBiYXRjaFBheSgpIHsNCiAgICAgIGlmICh0aGlzLmNhcklkLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oIuaaguaXtui/mOacqumAieS4reWVhuWTgeWTpn4iKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuJGh0dHAucG9zdCgiL2Nhci9iYXRjaFBheSIsIHRoaXMuY2FySWQpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgIGNvbnN0IGNvZGUgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyhjb2RlKTsNCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgLy8gJy9pdGVtT3JkZXJDYXInDQogICAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImNvZGUiLCBjb2RlKTsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgICBwYXRoOiAiL2l0ZW1PcmRlckNhciIsDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBIZWFyZGVyLA0KICB9LA0KICAvLyDorqHnrpflsZ7mgKcNCiAgY29tcHV0ZWQ6IHsNCiAgICB4aWFvamk6IGZ1bmN0aW9uICgpIHt9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Car.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Car.vue","sourceRoot":"src/views/reception","sourcesContent":["<template>\r\n  <div class=\"app\">\r\n    <el-container style=\"height: 650px\">\r\n      <!-- <p>hello Word</p> -->\r\n      <el-header style=\"height: 30px\" id=\"hearder\">\r\n        <Hearder></Hearder>\r\n      </el-header>\r\n      <!-- banner -->\r\n      <div class=\"banner\">\r\n        <div class=\"logo\">\r\n          <router-link to=\"/\"\r\n            ><img src=\"../../assets/imges/wen2.jpg\"\r\n          /></router-link>\r\n          <h5>我的购物车</h5>\r\n        </div>\r\n        <div class=\"search\">\r\n          <el-input v-model=\"search_input\" placeholder=\"订单号\">\r\n            <el-button\r\n              slot=\"append\"\r\n              icon=\"el-icon-search\"\r\n              style=\"width: 70px\"\r\n            ></el-button>\r\n          </el-input>\r\n        </div>\r\n      </div>\r\n      <!-- main -->\r\n      <el-main>\r\n        <div class=\"main\">\r\n          <div class=\"navigation\">\r\n            <div class=\"allItem\">全部商品</div>\r\n            <div class=\"depreciate\">降价商品</div>\r\n            <div class=\"repertoryLess\">库存紧张</div>\r\n          </div>\r\n          <div class=\"table\">\r\n            <el-table\r\n              :data=\"allUserCar\"\r\n              ref=\"carTable\"\r\n              tooltip-effect=\"dark\"\r\n              @selection-change=\"handleSelectionChange\"\r\n            >\r\n              <el-table-column type=\"selection\" width=\"50\"></el-table-column>\r\n              <el-table-column label=\"名称\" prop=\"item_name\"></el-table-column>\r\n              <el-table-column label=\"图片\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-image :src=\"scope.row.item_url\" style=\"width: 65px; height: 65px\">\r\n                  </el-image>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"单价\" prop=\"unit_price\"></el-table-column>\r\n              <el-table-column label=\"数量\" prop=\"num\">\r\n                <template> </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"金额\" prop=\"price\"></el-table-column>\r\n              <el-table-column label=\"删除\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button\r\n                    type=\"danger\"\r\n                    circle\r\n                    icon=\"el-icon-delete\"\r\n                    @click=\"removeCar(scope.row.id)\"\r\n                  ></el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n              :total=\"total\"\r\n              background\r\n              layout=\"prev, pager, next\"\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n              :current-page=\"pageNum\"\r\n              :page-size=\"pageSize\"\r\n            ></el-pagination>\r\n          </div>\r\n        </div>\r\n      </el-main>\r\n      <div class=\"footer\">\r\n        <div class=\"sum\">\r\n          <span class=\"xiaoji\">合计</span>\r\n          <span class=\"￥\">￥</span>\r\n          <span class=\"price\">{{ Sprice }}</span>\r\n        </div>\r\n        <div class=\"footerBtn\">\r\n          <el-button type=\"danger\" @click=\"batchRemove\">批量删除</el-button>\r\n          <el-button type=\"primary\" @click=\"batchPay\" style=\"width: 98px\"\r\n            >付款</el-button\r\n          >\r\n        </div>\r\n      </div>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Hearder from \"./HeaderRe.vue\";\r\nexport default {\r\n  created() {\r\n    this.findCarByUserId();\r\n    this.findCarToTalByUserId();\r\n  },\r\n  data() {\r\n    return {\r\n      pageNum: 0,\r\n      pageSize: 3,\r\n      total: 0,\r\n      search_input: \"\",\r\n      allUserCar: [],\r\n      sum: [],\r\n      carId: [],\r\n      Sprice: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    // 批量操作\r\n    handleSelectionChange(val) {\r\n      // console.log(val);\r\n      if (this.carId.length != val.length) {\r\n        this.carId = [];\r\n        this.sum = [];\r\n      }\r\n      for (let index = 0; index < val.length; index++) {\r\n        this.carId[index] = val[index].id;\r\n        this.sum[index] = val[index].price;\r\n        // console.log(val[index]);\r\n      }\r\n      // console.log(this.carId);\r\n      this.Sprice = 0 \r\n      for (let index = 0; index < this.sum.length; index++) {\r\n        this.Sprice += this.sum[index]\r\n        window.sessionStorage.setItem('Sprice',this.Sprice)\r\n      }\r\n\r\n    },\r\n    findCarByUserId() {\r\n      const userId = window.sessionStorage.getItem(\"logId\");\r\n      this.$http\r\n        .post(\r\n          `/car/findCarByUserId?user_id=${userId}&pageNum=${this.pageNum}&pageSize=${this.pageSize}`\r\n        )\r\n        .then((res) => {\r\n          //   console.log(res);\r\n          this.allUserCar = res.data.data;\r\n        });\r\n    },\r\n    findCarToTalByUserId() {\r\n      const userId = window.sessionStorage.getItem(\"logId\");\r\n      this.$http\r\n        .post(`/car/findCarToTalByUserId?user_id=${userId}`)\r\n        .then((res) => {\r\n          //  console.log(res);\r\n          this.total = res.data.data;\r\n        });\r\n    },\r\n    // 单独删除购物车\r\n    removeCar(val) {\r\n      // console.log(val);\r\n      this.$http.post(`/car/removeCarById?id=${val}`).then((res) => {\r\n        if (res.data.code == 200) {\r\n          this.$message.success(\"删除成功！\");\r\n          this.findCarByUserId();\r\n        } else {\r\n          this.$message.error(\"删除失败！请联系管理员\");\r\n        }\r\n      });\r\n    },\r\n    // 分页方法\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      this.findCarByUserId();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.pageNum = val;\r\n      this.findCarByUserId();\r\n    },\r\n    // 批量删除\r\n    batchRemove() {\r\n      if (this.carId.length === 0) {\r\n        this.$message.info(\"暂时还未选中商品哦~\");\r\n      }\r\n    },\r\n    // 批量购买\r\n    batchPay() {\r\n      if (this.carId.length === 0) {\r\n        this.$message.info(\"暂时还未选中商品哦~\");\r\n      }\r\n      this.$http.post(\"/car/batchPay\", this.carId).then((res) => {\r\n        // console.log(res.data);\r\n        const code = res.data.data;\r\n        // console.log(code);\r\n        if (res.data.code == 200) {\r\n          // '/itemOrderCar'\r\n          window.sessionStorage.setItem(\"code\", code);\r\n          this.$router.push({\r\n            path: \"/itemOrderCar\",\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n  components: {\r\n    Hearder,\r\n  },\r\n  // 计算属性\r\n  computed: {\r\n    xiaoji: function () {},\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.app {\r\n  position: relative;\r\n  background-color: #f5f5f5;\r\n}\r\n.banner {\r\n  position: absolute;\r\n  margin: 0 65px;\r\n  top: 40px;\r\n  width: 90%;\r\n  height: 110px;\r\n  //   background-color: aqua;\r\n}\r\n.logo > a > img {\r\n  position: absolute;\r\n  left: 0px;\r\n  width: 100px;\r\n  height: 100px;\r\n}\r\n.logo > h5 {\r\n  position: absolute;\r\n  bottom: -10px;\r\n  left: 115px;\r\n  font-size: 30px;\r\n}\r\n.search {\r\n  position: absolute;\r\n  bottom: 35px;\r\n  right: 0px;\r\n  width: 500px;\r\n}\r\n.main {\r\n  position: relative;\r\n  top: 100px;\r\n  width: 93%;\r\n  height: 400px;\r\n  margin: 0 45px;\r\n  //   background-color: antiquewhite;\r\n}\r\n.navigation {\r\n  position: absolute;\r\n  top: 10px;\r\n  left: -28px;\r\n  float: left;\r\n}\r\n.navigation > div {\r\n  // position: absolute;\r\n  border-right: 3px solid #ccc;\r\n  padding: 0 30px;\r\n  float: left;\r\n  font-size: 20px;\r\n}\r\n.repertoryLess {\r\n  border: none !important;\r\n}\r\n.table {\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 60px;\r\n}\r\n.footer {\r\n  position: relative;\r\n  // top: 5px;\r\n  float: left;\r\n  right: 0px;\r\n  bottom: 35px;\r\n  width: 100%;\r\n  height: 50px;\r\n  // background-color: aqua;\r\n}\r\n.sum {\r\n  float: left;\r\n  position: absolute;\r\n  right: 420px;\r\n  top: 10px;\r\n}\r\n.footerBtn {\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 56px;\r\n}\r\n.xiaoji {\r\n  font-size: 12px;\r\n}\r\n.￥ {\r\n  font-size: 14px;\r\n  color: #f40;\r\n}\r\n.price {\r\n  font-size: 22px;\r\n  color: #f40;\r\n}\r\n</style>"]}]}